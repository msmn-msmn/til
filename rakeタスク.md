# â˜…rakeã‚¿ã‚¹ã‚¯ã®ä½œæˆæ–¹æ³•
## â“rakeã‚¿ã‚¹ã‚¯ã¨ã¯
Rakeã¨ã¯ï¼šRubyã‚³ãƒ¼ãƒ‰ã‚’ã‚¿ã‚¹ã‚¯åŒ–ã§ãã‚‹ã€‚Railsã§ã¯ rake db:migrate ãªã©ã‚ˆãä½¿ã† ã€‚

å®šç¾©å ´æ‰€ï¼šRakefile + lib/tasks/*.rake

namespace ã¨ä¾å­˜é–¢ä¿‚ï¼šæ•´ç†ã«æœ‰ç”¨ã§ç’°å¢ƒèª­ã¿è¾¼ã¿ä¾å­˜ã‚‚å¯èƒ½

å®šæœŸå®Ÿè¡Œï¼šWheneverï¼‹Cronï¼ˆschedule.rb ã‚’ç®¡ç†ï¼‰

ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ï¼šrake --tasksï¼ˆä¸€è¦§ï¼‰ã€rake --traceï¼ˆè©³ç´°ãƒ­ã‚°ï¼‰

è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼šRakefile ã‹ã‚‰ .rake ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ä»•çµ„ã¿ã§ä¸€æ‹¬ç®¡ç†ã§ãã¾ã™


## ğŸ—‚ï¸ Rakeã‚¿ã‚¹ã‚¯ã®åŸºæœ¬æ§‹æˆ
å®šç¾©å ´æ‰€
Railsæ¨™æº–ï¼šRakefile ã¾ãŸã¯ lib/tasks/*.rake

Rakefile ã¯å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ç‹¬è‡ªã‚¿ã‚¹ã‚¯ã¯ lib/tasks/ ã«é…ç½®ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ 

## åŸºæœ¬æ§‹æ–‡
```
desc "ã‚¿ã‚¹ã‚¯ã®èª¬æ˜"
task :ã‚¿ã‚¹ã‚¯å => :environment do
  # å‡¦ç†å†…å®¹
end
```
namespace ã‚’ä½¿ãˆã°æ•´ç†ã—ã‚„ã™ããªã‚Šã¾ã™ï¼š
```
namespace :db do
  desc "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ"
  task backup: :environment do
    # ...
  end
end
```
ã“ã®æ›¸ãæ–¹ã«ã‚ˆã‚Š rake db:backup ãªã©ç›´æ„Ÿçš„ã«å‘¼ã¹ã¾ã™ 

## ã‚¿ã‚¹ã‚¯ã®ä¾å­˜é–¢ä¿‚
ä»–ã®ã‚¿ã‚¹ã‚¯ã¨çµ„ã¿åˆã‚ã›ã¦å®Ÿè¡Œå¯èƒ½ã§ã™ï¼š
```
task deploy: ["db:backup", "db:cleanup_logs"]
```
:environment ã‚’ä¾å­˜ã«å«ã‚ã‚‹ã“ã¨ã§ã€Rails ã®ãƒ¢ãƒ‡ãƒ«ã‚„ DB ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ 

## å¼•æ•°ä»˜ãã‚¿ã‚¹ã‚¯ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```
task :greet, [:name] => :environment do |t, args|
  puts "Hello, #{args[:name] || 'World'}!"
end
```
å®Ÿè¡Œæ™‚ã« rake greet[ã‚¢ãƒªã‚¹] ã®ã‚ˆã†ã«å¼•æ•°ã‚’æ¸¡ã›ã¾ã™ 
